# Отчет по лабораторной работе №2

## Тема: Указатели. Арифметика указателей.

### Задача 1

#### Постановка задачи

Внутри функции `int main(void) { /*...*/ }` определите указатель `double ***pointer = NULL;`. Инициализируйте этот указатель адресом другого указателя типа `double **`, который указывает на переменную `double *`, которая указывает на `double`. Используйте `pointer` для записи и чтения значения `2.0` в сегмент оперативной памяти для `double`. 

Требования:  
- Используйте функции типа `*malloc(...)` для выделения оперативной памяти под динамические объекты `double **`, `double *` и `double`.  
- Запишите и выведите число, указанное в блоке `double` на диаграмме, на экран, используя указатель `double ***pointer = NULL;`.  
- Используйте функцию `free(...)` для освобождения оперативной памяти, выделенной под динамические объекты с применением переменной `pointer`.  
- Запишите всё решение в одну строку одним выражением`(statement)`.

#### Математическая модель

$$вставить картинку!!!$$

#### Список идентификаторов

| Идентификатор  | Тип данных   | Уровень указателя | Описание                                 |
|----------------|--------------|-------------------|------------------------------------------|
| `pointer`      | `double***`  | Тройной указатель | Главный указатель на указатель на double |
| `*pointer`     | `double**`   | Двойной указатель | Указатель на указатель на double         |
| `**pointer`    | `double*`    | Одинарный указатель | Указатель на значение double           |
| `***pointer`   | `double`     | Значение          | Непосредственно хранимое значение double|

#### Код программы

```c
#include <stdio.h> 
#include <stdlib.h> 
int main() {

    double ***pointer = NULL;

    pointer = malloc(sizeof(double**));
    *pointer = malloc(sizeof(double*)); 
    **pointer = malloc(sizeof(double)); 
    ***pointer = 2.0; 

    printf("%.2lf", ***pointer); 
    
    free(**pointer); 
    free(*pointer); 
    free(pointer);
}
```

#### Результат работы программы

![2.1](2.1.png)



---



### Задача 2

#### Постановка задачи

Сложение двух чисел:  
Напишите программу, которая складывает два числа с использованием указателей на эти числа.

#### Математическая модель

$$sum = *ptr1(num1) + *ptr2(num2)$$

#### Список идентификаторов

| Идентификатор | Тип данных | Описание                          |
|---------------|------------|-----------------------------------|
| `num1`        | `double`   | Первое введённое число           |
| `num2`        | `double`   | Второе введённое число           |
| `sum`         | `double`   | Сумма чисел num1 и num2          |
| `ptr1`        | `double*`  | Указатель на переменную num1     |
| `ptr2`        | `double*`  | Указатель на переменную num2     |

#### Код программы

```c
#include <stdio.h>

int main() {
    double num1, num2, sum;
    double *ptr1 = &num1, *ptr2 = &num2;

    printf("Введите первое число: ");
    scanf("%lf", ptr1);

    printf("Введите второе число: ");
    scanf("%lf", ptr2);

    sum = *ptr1 + *ptr2;

    printf("Сумма чисел: %.2lf\n", sum);

    return 0;
}
```

#### Результат работы программы

![2.2](2.2.png)



---



### Задача 3

#### Постановка задачи

Нахождение максимума из двух чисел:  
Напишите программу, которая находит максимальное число из двух чисел, используя указатели на эти числа.

#### Математическая модель

$$—$$

#### Список идентификаторов

| Идентификатор | Тип данных | Описание                          |
|---------------|------------|-----------------------------------|
| `num1`        | `double`   | Первое введённое число           |
| `num2`        | `double`   | Второе введённое число           |
| `ptr1`        | `double*`  | Указатель на переменную num1     |
| `ptr2`        | `double*`  | Указатель на переменную num2     |

#### Код программы

```c
#include <stdio.h>

int main() {
    double num1, num2;
    double *ptr1 = &num1, *ptr2 = &num2;

    printf("Введите первое число: ");
    scanf("%lf", ptr1);

    printf("Введите второе число: ");
    scanf("%lf", ptr2);

    if (*ptr1 > *ptr2) {
        printf("Максимальное число: %.2lf\n", *ptr1);
    } else {
        printf("Максимальное число: %.2lf\n", *ptr2);
    }

    return 0;
}
```

#### Результат работы программы

![2.3](2.3.png)



---



### Задача 2.1

#### Постановка задачи

Вычислить используя цикл `for` координаты планеты Марс относительно Земли с течением времени $t$. Распечатать на экране координаты для каждой итерации по $t$. Координаты планеты Марс для каждой итерации задаются заданы формулами, где $r1$ – радиус орбиты Марса, $r2$ – радиус орбиты Земли, $T1$ и $T2$ - периоды обращения указанных планет соответственно, $t$ – каждый заданный момент времени внутри цикла по времени. Подберите подходящие единицы измерения для времени и расстояния.

#### Математическая модель

$$x = r_1 \cos(w_1 t) - r_2 \cos(w_2 t), $$

$$y = r_1 \sin(w_1 t) - r_2 \sin(w_2 t),  $$

$$w_1 = \frac{2\pi}{T_1},  $$

$$w_2 = \frac{2\pi}{T_2}$$

#### Список идентификаторов

| Имя переменной | Тип данных | Описание                                      |
|---------------|-----------|----------------------------------------------|
| `t`           | int       | Текущий момент времени (дискретное значение)  |
| `x`           | double    | Координата Марса по оси X                     |
| `y`           | double    | Координата Марса по оси Y                     |
| `r1`          | double    | Радиус орбиты Марса                           |
| `r2`          | double    | Радиус орбиты Земли                           |
| `T1`          | double    | Период обращения Марса                        |
| `T2`          | double    | Период обращения Земли                        |
| `w1`          | double    | Угловая скорость Марса                        |
| `w2`          | double    | Угловая скорость Земли                        |
| `PI`          | define    | Число π (приближённо 3.141592653589793)       |

#### Код программы

```c
#include <stdio.h>
#include <math.h>

#define PI 3.141592653589793

int main() {
    double r1 = 227.9, r2 = 149.6; 
    double T1 = 687.0, T2 = 365.25; 
    double w1 = 2 * PI / T1, w2 = 2 * PI / T2; 
    double x, y;
    
    for (int t = 0; t <= 10; t++) {
        x = r1 * cos(w1 * t) - r2 * cos(w2 * t);
        y = r1 * sin(w1 * t) - r2 * sin(w2 * t);
        
        printf("Время t = %d лет: координаты Марса (x, y) = (%.2lf, %.2lf)\n", t, x, y);
    }

    return 0;
}
```

#### Результат работы программы

![2.1](2.1.png)



---



### Задача 2.2

#### Постановка задачи

Вычислить определённый интеграл от заданной функции методом трапеций. Функция $f(x)$ может быть выбрана самостоятельно. Результат интегрирования сравнить с вычисленным вручную и убедиться в корректности результата.

#### Математическая модель

$$\int_{a}^{b} f(x) \, dx = \int_{a}^{b} e^{x+2} \, dx$$

#### Список идентификаторов

| Имя переменной  | Тип данных | Описание                                      |
|-----------------|------------|----------------------------------------------|
| `x`             | double     | Входной аргумент функции f(x)                |
| `a`             | double     | Левый предел интегрирования                  |
| `b`             | double     | Правый предел интегрирования                 |
| `n`             | int        | Количество разбиений для метода трапеций     |
| `h`             | double     | Шаг разбиения (расстояние между точками)     |
| `sum`           | double     | Переменная для хранения суммы в методе трапеций |
| `i`             | int        | Индекс в цикле для вычислений суммы          |
| `result`        | double     | Результат численного интегрирования          |
| `f`             | double     | Функция для вычисления значения выражения exp(x + 2) |

#### Код программы

```c
#include <stdio.h>
#include <math.h>

double f(double x) {
    return exp(x + 2);  
}

double trapezoidal_rule(double a, double b, int n) {
    double h = (b - a) / n;
    double sum = (f(a) + f(b)) / 2.0;
    
    for (int i = 1; i < n; i++) {
        sum += f(a + i * h);
    }
    
    return sum * h;
}

int main() {
    double a = 0, b = 1; 
    int n = 1000;    
    
    double result = trapezoidal_rule(a, b, n);
    printf("Результат численного интегрирования методом трапеций: %lf\n", result);
    
    return 0;
}
```

#### Результат работы программы

![2.2](2.2.png)



---



### Задача 2.3

#### Постановка задачи

Организовать и распечатать последовательность чисел Падована, непревосходящих число $m$, введенное с клавиатуры. Числа Падована представлены следующим рядом: $1, 1, 1, 2, 2, 3, 4, 5, 7, 9,12, 16, 21, 28, 37, 49, 65, 86, 114, 151, 200, 265, ...$ Использовать конструкцию **for** и простые варианты условной конструкции `if` `else`.

#### Математическая модель

$$P (0) = P (1) = P (2) = 1,   $$
$$P (n) = P (n− 2) + P (n− 3).$$ 

#### Список идентификаторов

| Имя переменной | Тип данных | Описание                                      |
|----------------|------------|----------------------------------------------|
| `m`            | int        | Введённое число m                           |
| `P`            | int[]      | Массив чисел Падована                       |
| `n`            | int        | Индекс для генерации чисел Падована         |

#### Код программы

```c
#include <stdio.h>

int main() {
    int m;

    printf("Введите число m: ");
    scanf("%d", &m);

    int P[100];

    P[0] = 1;
    P[1] = 1;
    P[2] = 1;

    printf("%d ", P[0]);
    if (m >= 1) printf("%d ", P[1]);
    if (m >= 1) printf("%d ", P[2]);

    for (int n = 3; ; n++) {
        P[n] = P[n - 2] + P[n - 3];

        if (P[n] > m) {
            break;
        }

        printf("%d ", P[n]);
    }

    printf("\n");

    return 0;
}
```

#### Результат работы программы

![2.3](2.3.png)



---



### Задача 2.4

#### Постановка задачи

С клавиатуры вводится трёхзначное число, считается сумма его цифр. Если сумма цифр числа больше 10, то вводится следующее трёхзначное число, если сумма меньше либо равна 10 — программа завершается.

#### Математическая модель

$$——$$

#### Список идентификаторов

| Имя переменной | Тип данных | Описание                                     |
|----------------|------------|----------------------------------------------|
| `num`          | int        | Введённое трёхзначное число                  |
| `sum`          | int        | Сумма цифр числа                             |
| `temp`         | int        | Временная переменная для обработки числа     |

#### Код программы

```c
#include <stdio.h>

int main() {
    int num;

    while (1) {
        printf("Введите трёхзначное число: ");
        scanf("%d", &num);

        int sum = 0;
        int temp = num;

        while (temp > 0) {
            sum += temp % 10;
            temp /= 10;
        }

        if (sum <= 10) {
            break;
        }
    }

    return 0;
}
```

#### Результат работы программы

![2.4](2.4.png)



---



### Задача 3.1

#### Постановка задачи

Для некоторого числового вектора $X$, введённого с клавиатуры, вычислить значения вектора $Y = X · X$ $(yi = xi · xi — поэлементно)$.

#### Математическая модель

$$Y = X*X$$

#### Список идентификаторов

| Имя переменной | Тип данных | Описание                                             |
|----------------|------------|------------------------------------------------------|
| `n`            | int        | Размер вектора                                       |
| `X`            | int[]      | Вектор входных данных                                |
| `Y`            | int[]      | Вектор, содержащий элементы X, возведённые в квадрат |
| `i`            | int        | Индекс в цикле для обработки элементов векторов      |

#### Код программы

```c
#include <stdio.h>

int main() {
    int n;

    printf("Введите размер вектора: ");
    scanf("%d", &n);

    int X[n], Y[n];

    printf("Введите элементы вектора X: \n");
    for (int i = 0; i < n; i++) {
        scanf("%d", &X[i]);
    }

    for (int i = 0; i < n; i++) {
        Y[i] = X[i] * X[i];
    }

    printf("Вектор Y = X * X: \n");
    for (int i = 0; i < n; i++) {
        printf("%d ", Y[i]);
    }
    printf("\n");

    return 0;
}
```

#### Результат работы программы

![3.1](3.1.png)



---



### Задача 3.2

#### Постановка задачи

Для некоторого числового массива $X$, введённого с клавиатуры поэлементно, изменить порядок элементов на обратный и распечатать результат на экране.

#### Математическая модель

$$——$$

#### Список идентификаторов

| Имя переменной | Тип данных | Описание                                      |
|----------------|------------|----------------------------------------------|
| `n`            | int        | Размер массива                               |
| `X`            | int[]      | Массив данных, введённый пользователем       |
| `i`            | int        | Индекс в цикле для обработки элементов массива |

#### Код программы

```c
#include <stdio.h>

int main() {
    int n;

    printf("Введите размер массива: ");
    scanf("%d", &n);

    int X[n];

    printf("Введите элементы массива X: \n");
    for (int i = 0; i < n; i++) {
        scanf("%d", &X[i]);
    }

    for (int i = 0; i < n / 2; i++) {
        int temp = X[i];
        X[i] = X[n - i - 1];
        X[n - i - 1] = temp;
    }

    printf("Массив после изменения порядка элементов: \n");
    for (int i = 0; i < n; i++) {
        printf("%d ", X[i]);
    }
    printf("\n");

    return 0;
}
```

#### Результат работы программы

![3.2](3.2.png)



---



### Задача 3.3

#### Постановка задачи

Транспонировать матрицу.

#### Математическая модель

$$——$$

#### Список идентификаторов

| Имя переменной | Тип данных | Описание                                      |
|----------------|------------|----------------------------------------------|
| `A`            | int[3][3]   | Исходная матрица 3x3                         |
| `B`            | int[3][3]   | Транспонированная матрица 3x3                 |
| `i`            | int        | Индекс строки в цикле                        |
| `j`            | int        | Индекс столбца в цикле                       |

#### Код программы

```c
#include <stdio.h>

int main() {
    int A[3][3] = {
        {1, 2, 3},
        {4, 5, 6},
        {7, 8, 9}
    };

    int B[3][3];

    for (int i = 0; i < 3; i++) {
        for (int j = 0; j < 3; j++) {
            B[j][i] = A[i][j];
        }
    }

    printf("Транспонированная матрица:\n");
    for (int i = 0; i < 3; i++) {
        for (int j = 0; j < 3; j++) {
            printf("%d ", B[i][j]);
        }
        printf("\n");
    }

    return 0;
}
```

#### Результат работы программы

![3.3](3.3.png)



---



### Задача 3.4

#### Постановка задачи

Преобразовать исходную матрицу так, чтобы первый элемент каждой строки был заменён средним арифметическим элементов этой строки.

#### Математическая модель

$$——$$

#### Список идентификаторов

| Имя переменной | Тип данных | Описание                                      |
|----------------|------------|----------------------------------------------|
| `A`            | int[3][3]   | Матрица 3x3, которую нужно преобразовать     |
| `i`            | int        | Индекс строки в цикле                        |
| `j`            | int        | Индекс столбца в цикле                       |
| `sum`          | int        | Сумма элементов в строке матрицы             |
| `avg`          | int        | Среднее арифметическое элементов строки     |

#### Код программы

```c
#include <stdio.h>

int main() {
    int A[3][3] = {
        {1, 2, 3},
        {4, 5, 6},
        {7, 8, 9}
    };

    for (int i = 0; i < 3; i++) {
        int sum = 0;
        for (int j = 0; j < 3; j++) {
            sum += A[i][j];
        }
        int avg = sum / 3;
        A[i][0] = avg;  
    }

    printf("Преобразованная матрица:\n");
    for (int i = 0; i < 3; i++) {
        for (int j = 0; j < 3; j++) {
            printf("%d ", A[i][j]);
        }
        printf("\n");
    }

    return 0;
}
```

#### Результат работы программы

![3.4](3.4.png)



---



### Задача 3.5

#### Постановка задачи

Реализовать самостоятельно алгоритм сортировки вставками (без создания своих функций, внутри функции `main`).

#### Математическая модель

$$——$$

#### Список идентификаторов

| Имя переменной | Тип данных | Описание                                      |
|----------------|------------|----------------------------------------------|
| `n`            | int        | Количество элементов в массиве               |
| `arr`          | int[]      | Массив данных, который нужно отсортировать  |
| `i`            | int        | Индекс в цикле для перебора элементов массива |
| `key`          | int        | Текущий элемент массива, который сравнивается и вставляется на нужную позицию |
| `j`            | int        | Индекс для поиска позиции для вставки элемента |

#### Код программы

```c
#include <stdio.h>

int main() {
    int n;

    printf("Введите количество элементов массива: ");
    scanf("%d", &n);

    int arr[n];

    printf("Введите элементы массива: \n");
    for (int i = 0; i < n; i++) {
        scanf("%d", &arr[i]);
    }

    for (int i = 1; i < n; i++) {
        int key = arr[i];
        int j = i - 1;

        while (j >= 0 && arr[j] > key) {
            arr[j + 1] = arr[j];
            j = j - 1;
        }

        arr[j + 1] = key;
    }

    printf("Отсортированный массив: \n");
    for (int i = 0; i < n; i++) {
        printf("%d ", arr[i]);
    }
    printf("\n");

    return 0;
}
```

#### Результат работы программы

![3.5](3.5.png)



---



## Информация о студенте:

*Аглиуллин Амир, 1 курс, ИВТ-1(2).*
